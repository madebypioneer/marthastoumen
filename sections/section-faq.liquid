{{ 'section-faq.css' | asset_url | stylesheet_tag }}

<script src="{{ 'section-faq.js' | asset_url }}" defer="defer"></script>

<div class="faq container mx-auto mb-32">
    <div class="flex flex-wrap -mx-32">
        <div class="md:w-1/3 p-32 sticky top-0 self-start">
            {% if section.settings.heading %}
                <h2 class="mb-8">{{ section.settings.heading }}</h2>
            {% endif %}
            {% if section.settings.content %}
                {{ section.settings.content }}
            {% endif %}
        </div>
        <div class="md:w-2/3 p-32">
            {%- for block in section.blocks -%}
                {% assign count = count | plus:1 %}
                <div class="accordion pt-16" data-accordion="accordion{{ count }}">
                    <h3 class="accordion--trigger pb-16">{{ block.settings.heading }}</h3>
                    <div class="accordion--content pb-16{% comment %} hidden{% endcomment %}" data-accordion-content="accordion{{ count }}">
                        {{ block.settings.content }}
                    </div>
                </div>
            {%- endfor -%}
        </div>
    </div>
</div>


{% schema %}
{
    "name": "FAQ",
    "settings": [
        {
            "type": "text",
            "id": "heading",
            "label": "Heading"
        },
        {
            "type": "richtext",
            "id": "content",
            "label": "Content"
        }
    ],
    "blocks": [
        {
            "type": "faq",
            "name": "FAQ",
            "settings": [
                {
                    "type": "text",
                    "id": "heading",
                    "label": "Heading"
                },
                {
                    "type": "richtext",
                    "id": "content",
                    "label": "Content"
                }
            ]
        }
    ],
    "presets": [
        {
        "name": "FAQ",
        "blocks": [
            {
                "type": "faq"
            }
        ]
    }
    ]
}
{% endschema %}
